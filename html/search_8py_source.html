<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CatTracks Route Planner: search.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CatTracks Route Planner
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('search_8py_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">search.py</div></div>
</div><!--header-->
<div class="contents">
<a href="search_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno"><a class="line" href="namespacesearch.html">    1</a></span><span class="keyword">import</span> time</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">#start_time = time.time()</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="keyword">import</span> pytz</div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno"><a class="line" href="namespacesearch.html#a1ba9eddeb86e4db183ff598fceb4e100">    5</a></span>tz_LA = pytz.timezone(<span class="stringliteral">&#39;America/Los_Angeles&#39;</span>)</div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno"><a class="line" href="namespacesearch.html#a30336eeb7592365e0e15024a1ec4c5d9">    6</a></span>datetime_LA = datetime.now(tz_LA)</div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="keyword">from</span> route_datatypes <span class="keyword">import</span>*</div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno"><a class="line" href="namespacesearch.html#a36f59a5e5bc6ca64fa450d3969cf89ac">   10</a></span>placeFoundq1 = <span class="keyword">False</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno"><a class="line" href="namespacesearch.html#a46b2d30619fc3b9b36b2321a90100532">   11</a></span>placeFoundq2 = <span class="keyword">False</span></div>
<div class="foldopen" id="foldopen00012" data-start="" data-end="">
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno"><a class="line" href="namespacesearch.html#aa0a2895db358e9e68e0f40f93d11dd85">   12</a></span><span class="keyword">def </span><a class="code hl_function" href="namespacesearch.html#aa0a2895db358e9e68e0f40f93d11dd85">validatePlaceq1</a>(target, start, end):</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>    places.sort()</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>    <span class="keyword">global</span> placeFoundq1</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>    <span class="keywordflow">if</span> (start &gt; end):</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>        placeFoundq1 = <span class="keyword">False</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>        <span class="keywordflow">return</span> placeFoundq1</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    middle = (start + end) // 2</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>    <span class="keywordflow">if</span> (places[middle] == target):</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>        placeFoundq1 = <span class="keyword">True</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>        <span class="keywordflow">return</span> placeFoundq1</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    <span class="keywordflow">elif</span> (places[middle] &gt; target):</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesearch.html#aa0a2895db358e9e68e0f40f93d11dd85">validatePlaceq1</a>(target, start, middle - 1)</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesearch.html#aa0a2895db358e9e68e0f40f93d11dd85">validatePlaceq1</a>(target, middle + 1, end)</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    </div>
</div>
<div class="foldopen" id="foldopen00027" data-start="" data-end="">
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="namespacesearch.html#ae8f1d38ba40d7cb40299d427d773b353">   27</a></span><span class="keyword">def </span><a class="code hl_function" href="namespacesearch.html#ae8f1d38ba40d7cb40299d427d773b353">validatePlaceq2</a>(target, start, end):</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    places.sort()</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    <span class="keyword">global</span> placeFoundq2</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <span class="keywordflow">if</span> (start &gt; end):</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>        placeFoundq2 = <span class="keyword">False</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>        <span class="keywordflow">return</span> placeFoundq2</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    middle = (start + end) // 2</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="keywordflow">if</span> (places[middle] == target):</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>        placeFoundq2 = <span class="keyword">True</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>        <span class="keywordflow">return</span> placeFoundq2</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    <span class="keywordflow">elif</span> (places[middle] &gt; target):</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesearch.html#ae8f1d38ba40d7cb40299d427d773b353">validatePlaceq2</a>(target, start, middle - 1)</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesearch.html#ae8f1d38ba40d7cb40299d427d773b353">validatePlaceq2</a>(target, middle + 1, end)</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
</div>
<div class="foldopen" id="foldopen00042" data-start="" data-end="">
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="namespacesearch.html#a57b514484c4a9a99e08f49d70348ebd3">   42</a></span><span class="keyword">def </span><a class="code hl_function" href="namespacesearch.html#a57b514484c4a9a99e08f49d70348ebd3">validateTime</a>(input_time):</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="keyword">global</span> valid_time</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>        parsed_time = datetime.strptime(input_time, <span class="stringliteral">&#39;%H:%M:%S&#39;</span>)</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>        <span class="keywordflow">if</span> 0 &lt;= parsed_time.hour &lt; 24 <span class="keywordflow">and</span> 0 &lt;= parsed_time.minute &lt; 60 <span class="keywordflow">and</span> 0 &lt;= parsed_time.second &lt; 60:</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>            valid_time = <span class="keyword">True</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>            valid_time = <span class="keyword">False</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        valid_time = <span class="keyword">False</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="namespacesearch.html#a2c811d67b8d23b88c06920cdbcc8b59a">   55</a></span>q1 = input(<span class="stringliteral">&quot;Where would you like to go?: &quot;</span>)</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><a class="code hl_function" href="namespacesearch.html#aa0a2895db358e9e68e0f40f93d11dd85">validatePlaceq1</a>(q1, 0, len(places) - 1)</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keywordflow">if</span> (placeFoundq1 == <span class="keyword">False</span>):</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        print(<span class="stringliteral">&quot;Invalid location&quot;</span>)</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        q1 = input(<span class="stringliteral">&#39;&#39;&#39;Where would you like to go?: </span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="stringliteral">        R Street Village Apts, El Redondo Dr, Compass Pointe Apts, Merced College The Bus Terminal, M St. At Bellevue RD, University Transit Center, Promenade Center, </span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="stringliteral">        Merced Mall Target, Walmart on Loughborough Dr, Amtrak Station, K St. Between 18th &amp; 19th, Merced Transpo (REQ), Rite Aid/Walgreens on G St, </span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="stringliteral">        El Portal Plaza &amp; G Street, Granville Apartments, G St. &amp; W. Alexander Ave, El Portal &amp; G Street, Mercy Hospital/TriCollege, TriCollege/Mercy (Bus stop on G next to Tri College), </span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="stringliteral">        G St. &amp; W. Alexander Ave. (Bus Stop Paul&#39;s Place), Cardella Rd. &amp; &#39;M&#39; Street (North), Foothill Drive, Cardella Rd. &amp; &#39;M&#39; Street (South), G Street South Across from Raley&#39;s (The Bus Stop),</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="stringliteral">        K St. Between 18Th &amp; 19th, Meadows Ave &amp; Olivewood Dr (Foodmaxx), Yosemite Crossings Shopping Center, M Street Village Apartments, Ironstone Dr. &amp; M St, </span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="stringliteral">        Yosemite &amp; Cordova (Merced Physician Center), Moraga Subdivision, University Surgery Center, Cardella Rd. &amp; &#39;M&#39; Street, Cardella Rd. &amp; &#39;M&#39; Street,</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="stringliteral">        K St. Between 18th &amp; 19th, UC Merced Downtown Campus Center, Merced Transpo, G Street South\n&#39;&#39;&#39;</span>)</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        <a class="code hl_function" href="namespacesearch.html#aa0a2895db358e9e68e0f40f93d11dd85">validatePlaceq1</a>(q1, 0, len(places) - 1)</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>        <span class="keywordflow">break</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="namespacesearch.html#a9ee2a066db40edfb7a6b5f195d3199e9">   73</a></span>q2 = input(<span class="stringliteral">&quot;Where are you currently located?: &quot;</span>)</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><a class="code hl_function" href="namespacesearch.html#ae8f1d38ba40d7cb40299d427d773b353">validatePlaceq2</a>(q2, 0, len(places) - 1)</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    if(placeFoundq2 == <span class="keyword">False</span>):</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        print(<span class="stringliteral">&quot;Invalid location&quot;</span>)</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>        q2 = input(<span class="stringliteral">&#39;&#39;&#39;Where are you currently located?: </span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="stringliteral">        R Street Village Apts, El Redondo Dr, Compass Pointe Apts, Merced College The Bus Terminal, M St. At Bellevue RD, University Transit Center, Promenade Center, </span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="stringliteral">        Merced Mall Target, Walmart on Loughborough Dr, Amtrak Station, K St. Between 18th &amp; 19th, Merced Transpo (REQ), Rite Aid/Walgreens on G St, </span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="stringliteral">        El Portal Plaza &amp; G Street, Granville Apartments, G St. &amp; W. Alexander Ave, El Portal &amp; G Street, Mercy Hospital/TriCollege, TriCollege/Mercy (Bus stop on G next to Tri College), </span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="stringliteral">        G St. &amp; W. Alexander Ave. (Bus Stop Paul&#39;s Place), Cardella Rd. &amp; &#39;M&#39; Street (North), Foothill Drive, Cardella Rd. &amp; &#39;M&#39; Street (South), G Street South Across from Raley&#39;s (The Bus Stop),</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="stringliteral">        K St. Between 18Th &amp; 19th, Meadows Ave &amp; Olivewood Dr (Foodmaxx), Yosemite Crossings Shopping Center, M Street Village Apartments, Ironstone Dr. &amp; M St, </span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="stringliteral">        Yosemite &amp; Cordova (Merced Physician Center), Moraga Subdivision, University Surgery Center, Cardella Rd. &amp; &#39;M&#39; Street, Cardella Rd. &amp; &#39;M&#39; Street,</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="stringliteral">        K St. Between 18th &amp; 19th, UC Merced Downtown Campus Center, Merced Transpo, G Street South\n&#39;&#39;&#39;</span>)</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>        <a class="code hl_function" href="namespacesearch.html#ae8f1d38ba40d7cb40299d427d773b353">validatePlaceq2</a>(q2, 0, len(places) - 1)</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        <span class="keywordflow">break</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment">#q3 = input(&quot;What time do you want to arrive by?&quot;)</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="comment">#print(&quot;Pacific time:&quot;, datetime_LA.strftime(&quot;%I:%M:%p&quot;))</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="namespacesearch.html#ad60b4e999ba801da3a823268e9e47318">   95</a></span>named_stops = {<span class="stringliteral">&quot;Bobcat Express&quot;</span>: bobcat_express_stops, <span class="stringliteral">&quot;C1&quot;</span>: C1_stops, <span class="stringliteral">&quot;C2&quot;</span>: C2_stops, <span class="stringliteral">&quot;E1&quot;</span>: E1_stops, <span class="stringliteral">&quot;E2&quot;</span>: E2_stops, <span class="stringliteral">&quot;Fastcat&quot;</span>: Fastcat_stops, <span class="stringliteral">&quot;Fastcat 2&quot;</span>: Fastcat2_stops, <span class="stringliteral">&quot;G Line&quot;</span>: G_line_stops, <span class="stringliteral">&quot;Yosemite Express&quot;</span> : yosemite_express_stops}</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="namespacesearch.html#abe0111b8295350cb47724c324c8e70da">   96</a></span>bus_names = {}</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="namespacesearch.html#a25463332a2270f434fb7425487d019d0">   97</a></span>possible_buses = {}</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="namespacesearch.html#a675a8e96d84e2326bfb56b3c837a92db">   98</a></span>possible_busnames = []</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="namespacesearch.html#aef564b377cb3d6fd0335b14ef027ebbf">   99</a></span>possible_distances = {}</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="namespacesearch.html#afa07a6e7b438c7bc7bc5fb9d5625b341">  100</a></span>shortest_stops = []</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="namespacesearch.html#a8f6c713314ffbd604dcf45f2abd5acc8">  101</a></span>busGo_stops = {}</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="namespacesearch.html#a697a8681535b1ab5557c94cc0895556b">  102</a></span>distances_dict = {}</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="namespacesearch.html#a098de2d6852feae2c598603bbe3f198d">  103</a></span>shortestnames_stops = {}</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="namespacesearch.html#a6fb7e41f35f61ca4fd68794bb2749f71">  104</a></span>distances_list = []</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="namespacesearch.html#a6922113272595e8b54ebef18c47356d5">  106</a></span>q3 = input(<span class="stringliteral">&quot;What time would you like to arrive by? Enter a time (Hour:Minute:Second format): &quot;</span>)</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><a class="code hl_function" href="namespacesearch.html#a57b514484c4a9a99e08f49d70348ebd3">validateTime</a>(q3)</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="keywordflow">if</span> (valid_time == <span class="keyword">False</span>):</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        q3 = input(<span class="stringliteral">&quot;What time would you like to arrive by? Enter a time (Hour:Minute:Second format)&quot;</span>)</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        <a class="code hl_function" href="namespacesearch.html#a57b514484c4a9a99e08f49d70348ebd3">validateTime</a>(q3)</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <span class="keywordflow">break</span></div>
<div class="foldopen" id="foldopen00114" data-start="" data-end="">
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">  114</a></span><span class="keyword">def </span><a class="code hl_function" href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">dict_binary_search</a>(name, target):</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    sorted_names = sorted(list(name.keys()))</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    low = 0 </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    high = len(sorted_names) - 1 </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="keywordflow">while</span> (low &lt;= high): </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        middle = (low + high) // 2 </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        value = sorted_names[middle] </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <span class="keywordflow">if</span> (value &lt; target): </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>            low = middle + 1 </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        elif(value &gt; target): </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>            high = middle - 1 </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>        <span class="keywordflow">else</span>: </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>            <span class="keywordflow">return</span> sorted_names[middle]</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        </div>
</div>
<div class="foldopen" id="foldopen00129" data-start="" data-end="">
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="namespacesearch.html#a67013b4ddfe9c4f2dbb661a642cbed07">  129</a></span><span class="keyword">def </span><a class="code hl_function" href="namespacesearch.html#a67013b4ddfe9c4f2dbb661a642cbed07">findBusTaken</a>():</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keywordflow">for</span> name, stop <span class="keywordflow">in</span> named_stops.items():</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">dict_binary_search</a>(stop, q2) == q2):</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            bus_names[name] = stop</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
</div>
<div class="foldopen" id="foldopen00134" data-start="" data-end="">
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="namespacesearch.html#a8af036654b8c8878447d1e55225cc4c1">  134</a></span><span class="keyword">def </span><a class="code hl_function" href="namespacesearch.html#a8af036654b8c8878447d1e55225cc4c1">busGoStops</a>():</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keywordflow">for</span> name, stop <span class="keywordflow">in</span> named_stops.items():</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">dict_binary_search</a>(stop, q1) == q1):</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>            busGo_stops[name] = stop</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            </div>
</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="keyword">from</span> routingpy <span class="keyword">import</span> ORS</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="namespacesearch.html#ae4ce93a64d79693eeb6cd026fda0debb">  141</a></span>client = ORS(api_key=<span class="stringliteral">&#39;5b3ce3597851110001cf6248e4dacfb3ab0a4b1d83a0511ffdd542f3&#39;</span>)</div>
<div class="foldopen" id="foldopen00142" data-start="" data-end="">
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="namespacesearch.html#a6aed943c283470ac4811b589afebee85">  142</a></span><span class="keyword">def </span><a class="code hl_function" href="namespacesearch.html#a6aed943c283470ac4811b589afebee85">findBusGo</a>():</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keyword">global</span> possible_buses</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="keyword">global</span> distanceBusGo</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="keyword">global</span> distancepointq2_q3</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="keyword">global</span> distancepointq3_q1</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keyword">global</span> totalDistance</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keyword">global</span> pointq1</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="keyword">global</span> pointr1</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keyword">global</span> pointq1_coordinates</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="keyword">global</span> pointq2</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="keyword">global</span> pointr2</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keyword">global</span> pointq2_coordinates</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="keyword">global</span> pointq3</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="keyword">global</span> pointq3_coordinates</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="comment">#when the stop you want to go to is not found in the stops of the bus you took, code checks if the other stops on the bus you took are found in other busses, if stop found in other buses, adds name of the buss to possible buses list</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="keyword">global</span> takenBusStops</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordflow">for</span> name, stop2 <span class="keywordflow">in</span> bus_names.items():</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        <span class="keywordflow">for</span> j2 <span class="keywordflow">in</span> stop2:</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>            takenBusStops = j2</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>            <span class="keywordflow">for</span> name1, stop3 <span class="keywordflow">in</span> busGo_stops.items():</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>                <span class="keywordflow">for</span> j3 <span class="keywordflow">in</span> stop3:</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">dict_binary_search</a>(stop3, takenBusStops) == j3):</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>                        pointq1_coordinates = (geo_pyPlacesCoords[places.index(q1)])  <span class="comment">#where wanna go</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>                        pointq2_coordinates = (geo_pyPlacesCoords[places.index(q2)])  <span class="comment"># where currently located</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>                        pointq3_coordinates = (geo_pyPlacesCoords[places.index(takenBusStops)]) <span class="comment">#coordinates of similar bus stop</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>                        <span class="comment">#coords = [pointq1_coordinates, pointq2_coordinates, pointq3_coordinates]</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>                        route = client.directions(locations= (pointq2_coordinates, pointq3_coordinates, pointq1_coordinates), profile=<span class="stringliteral">&quot;driving-car&quot;</span>)</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>                        possible_distances[route.distance] = j3</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>                        possible_busnames.append(name)</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>                        shortest_stops.append(j3)</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>                        possible_buses[j3] = name1                                     </div>
</div>
<div class="foldopen" id="foldopen00173" data-start="" data-end="">
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno"><a class="line" href="namespacesearch.html#afdf665e9c4a977f17e7c7604884bf928">  173</a></span><span class="keyword">def </span><a class="code hl_function" href="namespacesearch.html#afdf665e9c4a977f17e7c7604884bf928">findshortestBus</a>():</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keyword">global</span> pointq4</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keyword">global</span> pointq5</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    min_distance = min(possible_distances.keys())</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keyword">global</span> bus_stop</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keyword">global</span> b_name</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="keyword">global</span> index </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="keyword">global</span> min_stop</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    min_stop = possible_distances[min_distance]</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="keywordflow">for</span> stop, route <span class="keywordflow">in</span> possible_buses.items():</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <span class="keyword">global</span> min_bus</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">dict_binary_search</a>(possible_buses, min_stop) == stop): <span class="comment">#check if bianry vs linear faster here</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>            min_bus = route</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>            <span class="keywordflow">break</span>   </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><a class="code hl_function" href="namespacesearch.html#a67013b4ddfe9c4f2dbb661a642cbed07">findBusTaken</a>()</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><a class="code hl_function" href="namespacesearch.html#a8af036654b8c8878447d1e55225cc4c1">busGoStops</a>()</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><a class="code hl_function" href="namespacesearch.html#a6aed943c283470ac4811b589afebee85">findBusGo</a>()</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><a class="code hl_function" href="namespacesearch.html#afdf665e9c4a977f17e7c7604884bf928">findshortestBus</a>()</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span><span class="comment">#print(possible_distances)</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="comment">#print(possible_busnames)</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>print(possible_buses)</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="namespacesearch.html#a0e903c86b07e720b1faa757790f4a433">  198</a></span>potential_buses = set()</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="keywordflow">if</span> (min_stop == q2 <span class="keywordflow">or</span> min_stop == q1):</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    print(f<span class="stringliteral">&#39;Take {min_bus} to {q1}&#39;</span>)</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="keywordflow">for</span> name, stop <span class="keywordflow">in</span> bus_names.items():</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">dict_binary_search</a>(stop, q2) == q2 <span class="keywordflow">and</span> <a class="code hl_function" href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">dict_binary_search</a>(stop, min_stop) == min_stop):</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>            potential_buses.add(name)</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="namespacesearch.html#a62181562a49785d6f447602d893c13dc">  205</a></span>    unique_list = list(potential_buses)</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    print(f<span class="stringliteral">&#39;Take {&quot;, &quot;.join(potential_buses)} to {min_stop} then take {min_bus} to {q1}&#39;</span>)</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="comment">#print(&quot;Process finished --- %s seconds ---&quot; % (time.time() - start_time))</span></div>
<div class="ttc" id="anamespacesearch_html_a57b514484c4a9a99e08f49d70348ebd3"><div class="ttname"><a href="namespacesearch.html#a57b514484c4a9a99e08f49d70348ebd3">search.validateTime</a></div><div class="ttdeci">validateTime(input_time)</div><div class="ttdef"><b>Definition</b> <a href="#l00042">search.py:42</a></div></div>
<div class="ttc" id="anamespacesearch_html_a67013b4ddfe9c4f2dbb661a642cbed07"><div class="ttname"><a href="namespacesearch.html#a67013b4ddfe9c4f2dbb661a642cbed07">search.findBusTaken</a></div><div class="ttdeci">findBusTaken()</div><div class="ttdef"><b>Definition</b> <a href="#l00129">search.py:129</a></div></div>
<div class="ttc" id="anamespacesearch_html_a6aed943c283470ac4811b589afebee85"><div class="ttname"><a href="namespacesearch.html#a6aed943c283470ac4811b589afebee85">search.findBusGo</a></div><div class="ttdeci">findBusGo()</div><div class="ttdef"><b>Definition</b> <a href="#l00142">search.py:142</a></div></div>
<div class="ttc" id="anamespacesearch_html_a79be19296b7b96829cfc6d54ec5cb084"><div class="ttname"><a href="namespacesearch.html#a79be19296b7b96829cfc6d54ec5cb084">search.dict_binary_search</a></div><div class="ttdeci">dict_binary_search(name, target)</div><div class="ttdef"><b>Definition</b> <a href="#l00114">search.py:114</a></div></div>
<div class="ttc" id="anamespacesearch_html_a8af036654b8c8878447d1e55225cc4c1"><div class="ttname"><a href="namespacesearch.html#a8af036654b8c8878447d1e55225cc4c1">search.busGoStops</a></div><div class="ttdeci">busGoStops()</div><div class="ttdef"><b>Definition</b> <a href="#l00134">search.py:134</a></div></div>
<div class="ttc" id="anamespacesearch_html_aa0a2895db358e9e68e0f40f93d11dd85"><div class="ttname"><a href="namespacesearch.html#aa0a2895db358e9e68e0f40f93d11dd85">search.validatePlaceq1</a></div><div class="ttdeci">validatePlaceq1(target, start, end)</div><div class="ttdef"><b>Definition</b> <a href="#l00012">search.py:12</a></div></div>
<div class="ttc" id="anamespacesearch_html_ae8f1d38ba40d7cb40299d427d773b353"><div class="ttname"><a href="namespacesearch.html#ae8f1d38ba40d7cb40299d427d773b353">search.validatePlaceq2</a></div><div class="ttdeci">validatePlaceq2(target, start, end)</div><div class="ttdef"><b>Definition</b> <a href="#l00027">search.py:27</a></div></div>
<div class="ttc" id="anamespacesearch_html_afdf665e9c4a977f17e7c7604884bf928"><div class="ttname"><a href="namespacesearch.html#afdf665e9c4a977f17e7c7604884bf928">search.findshortestBus</a></div><div class="ttdeci">findshortestBus()</div><div class="ttdef"><b>Definition</b> <a href="#l00173">search.py:173</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="search_8py.html">search.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
